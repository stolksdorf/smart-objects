<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>

	<script type="text/javascript" src='http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js'></script>
	<script type="text/javascript" src="smart-objects.js"></script>


</head>
<body>




	<script>



		var UserModel = smartObject({
			props : {
			  	name : 'string',
			  	age : {
			  		type : 'number',
			  		default : Date.now
			  	},
			/*	posts : {
			  		type     : 'array',
			  		required : true,
			  		validate : function(val){
			  			return val.length > 3;
			  		}
			  	},*/
			  	customData : 'object',
			  	userType : {
			  		tier : 'string',
			  		isAwesome : {
			  			type : 'boolean',
			  			default : false
			  		}
			  	}
			},
			methods : {
				hasManyPosts : function(){
					return this.posts.length > 10;
				},
				toggleAwesome : function(){
					this.userType.isAwesome = !this.userType.isAwesome;
				}
			},
			statics : {
				createCoolUser : function(){
					console.log('TEST', this);
					return this.create({name : 'COOL'});
				}
			}
		});

		var loggedInUser = UserModel.create({name : 'Scott'});





	</script>



</body>

</html>